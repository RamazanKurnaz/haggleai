query RunInput {
  cart {
    lines {
      id
      cost {
        amountPerQuantity {
          amount
        }
      }
      merchandise {
        ... on ProductVariant {
          id
        }
      }
      # Access custom attributes (properties) on the line item
      attribute(key: "_haggle_price") {
        value
      }
      signature: attribute(key: "_haggle_signature") {
        value
      }
    }
  }
  # Fetch the Shop Metafield where we store the HMAC Secret Key
  shop {
    metafield(namespace: "haggle_ai", key: "hmac_secret") {
      value
    }
  }
}

